# Update HTML: add keyboard-controlled extra zoom (no slider), and shrink buttons further when collapsed.
html_zoom_small = """<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>AlphaPWR Demo â€” collapsible side menu + Home + extra zoom</title>
<style>
:root{
  --bg:#000;
  --text:#e7ecf2;
  --muted:#9aa3b2;
  --panel-top:#0c121c;
  --panel-bot:#090d14;
  --pill-top:#131923;
  --pill-bot:#0f141e;
  --pill-border:#1b2330;
  --pill-border-hover:#2a3446;
  --accent:#21d07a;
  --accent-deep:#0b4127;
  --ring: rgba(33,208,122,0.28);
  --warning:#ffb022;
  /* Extra in-page zoom (stackable with browser zoom). Use keyboard + / - / 0 */
  --scale: 1;
}
html, body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}
.viewport{ width:100vw; height:100vh; overflow:auto; position:relative; }

/* ===== Demo canvas (TV) ===== */
/* Wrapper grows/shrinks with --scale so you can scroll around when zoomed in */
.wrapper{
  width: calc(2500px * var(--scale));
  height: calc(1406px * var(--scale));
  position:relative; overflow:hidden;
  margin:40px 20px 20px 380px;        /* space for menu when expanded */
  transition: margin-left .2s ease;
}
.wrapper.menu-collapsed{ margin-left: 84px; }  /* space for slim rail */

/* Frame scaled by --scale (independent of browser zoom) */
.frame-container{
  width:2500px; height:1406px; position:absolute; inset:0 auto auto 0;
  background:url("https://storage.googleapis.com/files_webpage/Digital%20demo/alphapwr_frame.png") no-repeat top left;
  background-size:100% 100%;
  transform: scale(var(--scale));
  transform-origin: top left;
}
.frame-container iframe{
  position:absolute; top:142px; left:1139px; width:1080px; height:1920px;
  border:none; overflow:hidden;
  transform:scale(0.278703704, 0.277083333); transform-origin:top left;
}
.frame-container img#overlayImg{
  position:absolute; top:142px; left:1139px; width:1620px; height:2880px;
  object-fit:cover;
  transform:scale(0.185802469, 0.184722222); transform-origin:top left;
  display:none; pointer-events:none;
}

/* ===== Side menu ===== */
.menu{
  position:fixed; left:24px; top:50%; transform:translateY(-50%);
  width:320px;
  background:linear-gradient(180deg, var(--panel-top), var(--panel-bot));
  border:1px solid #1b2433;
  border-radius:18px;
  padding:14px;
  box-shadow: 0 18px 50px rgba(0,0,0,0.55), inset 0 0 0 1px rgba(255,255,255,0.03);
  z-index:10;
  transition: width .2s ease, padding .2s ease;
}
.menu.collapsed{ width:64px; padding:8px; }

/* Header with collapse button */
.menu-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:4px 6px 10px 6px;
  border-bottom:1px solid #1e2736;
  margin-bottom:10px;
}
.menu-title{ font-size:18px; font-weight:800; letter-spacing:.3px; }
.collapse{
  border:1px solid #243044;
  border-radius:10px;
  background:#121823;
  color:#cdd6e3;
  padding:6px 8px;
  display:inline-flex; align-items:center; gap:6px;
  cursor:pointer;
}
.collapse svg{ width:14px; height:14px; }
.menu.collapsed .collapse .lbl{ display:none; }
.menu.collapsed .collapse{ padding:6px; transform:rotate(180deg); }

/* Banner */
.banner{
  background:#0d2246; color:#cfe2ff; font-size:13px;
  border:1px solid #1e3a6a; border-radius:12px;
  padding:10px 12px; margin:8px 6px 12px 6px;
  display:flex; align-items:flex-start; gap:10px;
}
.banner svg{ width:16px; height:16px; margin-top:2px; }

/* Pill buttons list */
.nav-list{ display:flex; flex-direction:column; gap:10px; }
.pill{
  display:grid; grid-template-columns: auto 1fr auto auto; align-items:center;
  gap:10px;
  padding:12px;
  background:linear-gradient(180deg, var(--pill-top), var(--pill-bot));
  border:1px solid var(--pill-border);
  border-radius:12px;
  color:var(--text);
  cursor:pointer;
  box-shadow: 0 2px 0 rgba(0,0,0,0.3);
  transition: transform .12s ease, border-color .12s ease, background .12s ease, padding .12s ease;
}
.pill:hover{ transform:translateY(-1px); border-color:var(--pill-border-hover); }
.pill:active{ transform:none; }
.ic{
  width:22px; height:22px; border-radius:50%;
  display:grid; place-items:center;
  border:1px solid #2a3444;
  color:#9fb0c8;
}
.ic svg{ width:14px; height:14px; }
.name{ font-weight:700; font-size:16px; }
.meta{ font-size:12px; color:#9aa3b2; margin-left:6px; }
.meta.warn{ color:var(--warning); }

.cog{
  width:36px; height:36px; border-radius:10px;
  display:grid; place-items:center; background:#0f1622; border:1px solid #263044;
}
.cog svg{ width:16px; height:16px; color:#aab4c3; }

.puck{
  width:36px; height:36px; border-radius:50%;
  display:grid; place-items:center; background:var(--accent);
  box-shadow:0 0 0 2px var(--accent-deep) inset, 0 0 0 0 var(--ring);
  transition: box-shadow .12s ease, filter .12s ease, width .12s ease, height .12s ease;
}
.pill:hover .puck{ box-shadow:0 0 0 2px var(--accent-deep) inset, 0 0 0 10px var(--ring); filter:saturate(1.08); }
.puck svg{ width:16px; height:16px; }

/* Active */
.pill[aria-current="true"]{ background:#121826; border-color:#2a3446; }
.pill[aria-current="true"] .puck{ background:#fff; box-shadow:0 0 0 2px var(--accent) inset, 0 0 0 10px var(--ring); }

/* Collapsed mode: make everything smaller and show only pucks */
.menu.collapsed .menu-title,
.menu.collapsed .banner,
.menu.collapsed .pill .name,
.menu.collapsed .pill .meta,
.menu.collapsed .pill .ic,
.menu.collapsed .pill .cog{ display:none; }

.menu.collapsed .nav-list{ gap:6px; }
.menu.collapsed .pill{
  grid-template-columns: 1fr;
  justify-items:center;
  padding:6px;
}
.menu.collapsed .puck{ width:28px; height:28px; }
.menu.collapsed .pill{ border-radius:10px; }

/* Footer actions */
.footer{
  margin-top:12px; display:flex; flex-direction:column; gap:8px;
}
.ghost{
  width:100%; padding:12px; border-radius:12px;
  border:1px solid #273044; background:#131a24; color:#cbd3df;
  font-weight:600; cursor:pointer;
}
.danger{
  width:100%; padding:12px; border-radius:12px;
  border:1px solid #4b2222; background:#1e0f0f; color:#ff9a9a;
  font-weight:600; cursor:pointer;
}
.home{
  width:100%; padding:12px; border-radius:12px; border:1px solid #204d38;
  background:#0d1f17; color:#7fe8b6; font-weight:700; cursor:pointer;
}
/* Hide footer text when collapsed */
.menu.collapsed .footer .ghost,
.menu.collapsed .footer .danger,
.menu.collapsed .footer .home{ display:none; }

/* ===== Tiny on-screen zoom HUD ===== */
.zoom-hud{
  position:fixed; right:16px; bottom:16px;
  background:rgba(20,26,38,.8); color:#cfe2ff; font-weight:700;
  border:1px solid #273044; border-radius:10px;
  padding:6px 10px; pointer-events:none; opacity:0; transition:opacity .2s ease;
}
.zoom-hud.show{ opacity:1; }
</style>
</head>
<body>

<div class="viewport">
  <div id="wrap" class="wrapper">
    <div class="frame-container">
      <iframe id="liveFrame" src="https://pwr.alphatek.no" loading="lazy" title="AlphaPWR live view"></iframe>
      <img id="overlayImg" src="" alt="">
    </div>
  </div>
</div>

<aside id="menu" class="menu" aria-label="Controls">
  <div class="menu-head">
    <div class="menu-title">Switch screen</div>
    <button id="toggle" class="collapse" aria-label="Collapse menu" title="Collapse / Expand">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 6l6 6-6 6" fill="currentColor"/></svg>
      <span class="lbl">Collapse</span>
    </button>
  </div>

  <div class="banner">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.6"/><circle cx="12" cy="7" r="1.5" fill="currentColor"/><rect x="11" y="10" width="2" height="7" rx=".8" fill="currentColor"/></svg>
    <div>This remote is in control of the TV until someone else scans.</div>
  </div>

  <div class="nav-list">
    <button class="pill" data-target="Squat">
      <div class="ic" aria-hidden="true">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
      </div>
      <div class="name">Squat</div>
      <div class="cog" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5m0-3a1 1 0 0 1 1 1l.2 1.3a6.7 6.7 0 0 1 1.1.6l1.2-.6a1 1 0 0 1 1.3.3l1.9 3.3a1 1 0 0 1-.3 1.3l-1.1.7a6.7 6.7 0 0 1 0 1.3l1.1.7a1 1 0 0 1 .3 1.3l-1.9 3.3a1 1 0 0 1-1.3.3l-1.2-.6a6.7 6.7 0 0 1-1.1.6L13 17.5a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1l-.2-1.3a6.7 6.7 0 0 1-1.1-.6l-1.2.6a1 1 0 0 1-1.3-.3L1.3 12.6a1 1 0 0 1 .3-1.3l1.1-.7a6.7 6.7 0 0 1 0-1.3l-1.1-.7a1 1 0 0 1-.3-1.3L3.2 4a1 1 0 0 1 1.3-.3l1.2.6a6.7 6.7 0 0 1 1.1-.6L7 2.5a1 1 0 0 1 1-1z" fill="currentColor"/></svg>
      </div>
      <div class="puck" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M8 5l10 7-10 7V5z" fill="currentColor"/></svg>
      </div>
    </button>

    <button class="pill" data-target="Squat analytics">
      <div class="ic" aria-hidden="true">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
      </div>
      <div class="name">Squat <span class="meta warn">analytics</span></div>
      <div class="cog" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5m0-3a1 1 0 0 1 1 1l.2 1.3a6.7 6.7 0 0 1 1.1.6l1.2-.6a1 1 0 0 1 1.3.3l1.9 3.3a1 1 0 0 1-.3 1.3l-1.1.7a6.7 6.7 0 0 1 0 1.3l1.1.7a1 1 0 0 1 .3 1.3l-1.9 3.3a1 1 0 0 1-1.3.3l-1.2-.6a6.7 6.7 0 0 1-1.1.6L13 17.5a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1l-.2-1.3a6.7 6.7 0 0 1-1.1-.6l-1.2.6a1 1 0 0 1-1.3-.3L1.3 12.6a1 1 0 0 1 .3-1.3l1.1-.7a6.7 6.7 0 0 1 0-1.3l-1.1-.7a1 1 0 0 1-.3-1.3L3.2 4a1 1 0 0 1 1.3-.3l1.2.6a6.7 6.7 0 0 1 1.1-.6L7 2.5a1 1 0 0 1 1-1z" fill="currentColor"/></svg>
      </div>
      <div class="puck" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M8 5l10 7-10 7V5z" fill="currentColor"/></svg>
      </div>
    </button>

    <button class="pill" data-target="Pull">
      <div class="ic" aria-hidden="true">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
      </div>
      <div class="name">Pull</div>
      <div class="cog" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5z" fill="currentColor"/></svg></div>
      <div class="puck" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M8 5l10 7-10 7V5z" fill="currentColor"/></svg></div>
    </button>

    <button class="pill" data-target="Jump">
      <div class="ic" aria-hidden="true">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
      </div>
      <div class="name">Jump</div>
      <div class="cog" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5z" fill="currentColor"/></svg></div>
      <div class="puck" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M8 5l10 7-10 7V5z" fill="currentColor"/></svg></div>
    </button>

    <button class="pill" data-target="Balance">
      <div class="ic" aria-hidden="true">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
      </div>
      <div class="name">Balance</div>
      <div class="cog" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5z" fill="currentColor"/></svg></div>
      <div class="puck" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M8 5l10 7-10 7V5z" fill="currentColor"/></svg></div>
    </button>

    <button class="pill" data-target="Monitor">
      <div class="ic" aria-hidden="true">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
      </div>
      <div class="name">Monitor</div>
      <div class="cog" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5z" fill="currentColor"/></svg></div>
      <div class="puck" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M8 5l10 7-10 7V5z" fill="currentColor"/></svg></div>
    </button>

    <button class="pill" data-target="Nordic Hamstring">
      <div class="ic" aria-hidden="true">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
      </div>
      <div class="name">Nordic <span class="meta warn">hamstring</span></div>
      <div class="cog" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5z" fill="currentColor"/></svg></div>
      <div class="puck" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M8 5l10 7-10 7V5z" fill="currentColor"/></svg></div>
    </button>
  </div>

  <div class="footer">
    <button class="home" id="goHome" aria-label="Show live site">Home</button>
    <button class="ghost" id="reloadBtn">Reload screen</button>
    <button class="danger">Sign out from TV</button>
  </div>
</aside>

<div id="zoomHud" class="zoom-hud">100%</div>

<script>
const overlay = document.getElementById('overlayImg');
const iframe  = document.getElementById('liveFrame');
const wrap    = document.getElementById('wrap');
const menu    = document.getElementById('menu');
const toggle  = document.getElementById('toggle');
const reloadBtn = document.getElementById('reloadBtn');
const zoomHud = document.getElementById('zoomHud');

const imageMap = {
  "Squat": "https://storage.googleapis.com/files_webpage/Digital%20demo/Squat.png",
  "Squat analytics": "https://storage.googleapis.com/files_webpage/Digital%20demo/Squat%20analytics.png",
  "Pull": "https://storage.googleapis.com/files_webpage/Digital%20demo/Pull.png",
  "Jump": "https://storage.googleapis.com/files_webpage/Digital%20demo/Jump.png",
  "Balance": "https://storage.googleapis.com/files_webpage/Digital%20demo/Balance.png",
  "Monitor": "https://storage.googleapis.com/files_webpage/Digital%20demo/Monitor.png",
  "Nordic Hamstring": "https://storage.googleapis.com/files_webpage/Digital%20demo/Nordic%20Hamstring.png"
};

function setActive(btn){
  document.querySelectorAll('.pill[aria-current="true"]').forEach(b=>b.removeAttribute('aria-current'));
  if(btn) btn.setAttribute('aria-current','true');
}

function showImage(key, btn){
  if(!imageMap[key]) return;
  overlay.src = imageMap[key];
  overlay.style.display = 'block';
  iframe.style.display  = 'none';
  setActive(btn);
}

document.querySelectorAll('.pill').forEach(btn => {
  btn.addEventListener('click', () => showImage(btn.dataset.target, btn));
});

// Collapse / expand
toggle.addEventListener('click', ()=>{
  menu.classList.toggle('collapsed');
  wrap.classList.toggle('menu-collapsed');
});

// Home button -> show live iframe
document.getElementById('goHome').addEventListener('click', ()=>{
  overlay.style.display = 'none';
  iframe.style.display  = 'block';
  setActive(null);
});

// Reload screen (reload overlay if shown, else reload iframe)
reloadBtn.addEventListener('click', ()=>{
  if(overlay.style.display === 'block' && overlay.src){
    const src = overlay.src; overlay.src = ''; requestAnimationFrame(()=> overlay.src = src);
  }else{
    const src = iframe.src; iframe.src = ''; requestAnimationFrame(()=> iframe.src = src);
  }
});

/* ===== Extra zoom (stackable with browser zoom) =====
   Keys: '+' or '=' to zoom in, '-' to zoom out, '9' to reset to 100% (avoid clashing with '0' = Home) */
let scale = 1.0;
const MIN = 0.25, MAX = 6.0, STEP = 0.1;

function applyScale(){
  document.documentElement.style.setProperty('--scale', scale.toFixed(3));
  zoomHud.textContent = Math.round(scale*100) + '%';
  zoomHud.classList.add('show');
  clearTimeout(applyScale._t);
  applyScale._t = setTimeout(()=> zoomHud.classList.remove('show'), 900);
}

window.addEventListener('keydown', (e)=>{
  // Don't interfere with browser zoom shortcuts (Ctrl/Cmd +/-, etc.)
  if(e.ctrlKey || e.metaKey) return;
  if(e.key === '+' || e.key === '='){
    scale = Math.min(MAX, scale + STEP); applyScale();
  }else if(e.key === '-'){
    scale = Math.max(MIN, scale - STEP); applyScale();
  }else if(e.key === '9'){ // reset to 100%
    scale = 1.0; applyScale();
  }
});

/* Keyboard shortcuts for screens: 1â€“7, and 0 is still Home */
const order = ["Squat","Squat analytics","Pull","Jump","Balance","Monitor","Nordic Hamstring"];
window.addEventListener('keydown', (e)=>{
  if(e.ctrlKey || e.metaKey) return;
  const idx = parseInt(e.key,10);
  if(!isNaN(idx) && idx>=1 && idx<=order.length){
    const key = order[idx-1];
    const btn = document.querySelector('.pill[data-target="'+key+'"]');
    showImage(key, btn);
  }
  if(e.key==='0'){ overlay.style.display='none'; iframe.style.display='block'; setActive(null); }
});
</script>

</body>
</html>
"""
path = "/mnt/data/AlphaPWR-demo-side-menu-zoom-collapsed-small.html"
with open(path, "w", encoding="utf-8") as f:
    f.write(html_zoom_small)

path
